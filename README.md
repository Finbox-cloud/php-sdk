# Finbox SDK


## Класс `Finbox`
| Основной интерфейс работы с системой Finbox.

#### Параметры
| Название  | Тип      | Описание       | Обязательное |
|-----------|----------|----------------|--------------|
| {TOKEN}   | `string` | Ключ доступа   | да           |
| {SECRET}  | `string` | Секретный ключ | да           |
| {API_URL} | `string` | Путь API       | да           |

#### Методы
| Название  | Параметры          | Результат         | Описание               |
|-----------|--------------------|-------------------|------------------------|
| send      | command [`string`] | [Result](#result) | Отправка запроса к API |


## Класс `Result`
#### Свойства
| Название     | Тип       | Описание                                                   | Обязательное |
|--------------|-----------|------------------------------------------------------------|--------------|
| success      | `boolean` | Флаг успеха операции                                       | да           |
| command      | `Command` | Выполняемая команда                                        | да           |
| errorMessage | `string`  | Сообщение ошибки (при провале операции)                    | нет          |
| errorCode    | `int`     | Код ошибки (при провале операции)                          | нет          |
| errorData    | `mixed`   | Дополнительная информация об ошибке (при провале операции) | нет          |

#### Методы
| Название  | Результат | Описание                                                        |
|-----------|-----------|-----------------------------------------------------------------|
| getResult | `Entity`  | При успешном выполнении вернёт сущность соответствующую команде |


#### Пример:
```php
    $finbox = new Finbox(
        '{TOKEN}',
        '{SECRET}',
        '{API_URL}'
    );

    $command = new ClientCreateCommand(
        ClientType::INDIVIDUAL,
        [
            'name' => 'Test client name',
            'surname' => 'Test client surname',
            'patronymic' => 'Test client patronymic',
        ],
        '+7 (000) 000-00-00'
    );

    $result = $finbox->send($command);
    
    if ($result->success) {
        $newClient = $result->getResult();    
    } else {
        die($result->errorMessage);
    }
```


## Команды
| Класс                                       | Описание             |
|---------------------------------------------|----------------------|
| [ClientCreateCommand](#clientcreatecommand) | Создание клиента     |
| [ClientGetCommand](#clientgetcommand)       | Запрос клиента по ID |

### `ClientCreateCommand`
| Создание нового клиента

#### Параметры
| Название | Тип        | Описание             | Обязательное                |
|----------|------------|----------------------|-----------------------------|
| initials | `Initials` | ФИО                  | да (только параметр `name`) |
| phone    | `string`   | Запрос клиента по ID | да                          |

#### Результат
При успешном создании клиента вернёт `ClientEntity`

### `ClientGetCommand`
| Запрос клиента по ID

#### Параметры
| Название | Тип        | Описание   | Обязательное                |
|----------|------------|------------|-----------------------------|
| clientId | `string`   | ID клиента | да                          |

#### Результат
При успешном запросе вернёт `ClientEntity`
